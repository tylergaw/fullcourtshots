/**
 * Endless Scroll plugin for jQuery
 *
 * v1.3
 *
 * Copyright (c) 2008 Fred Wu
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
(function(b){b.fn.endlessScroll=function(a){a=b.extend({bottomPixels:50,fireOnce:true,fireDelay:150,loader:"<br />Loading...<br />",data:"",insertAfter:"div:last",resetCounter:function(){return false},callback:function(){return true},ceaseFire:function(){return false}},a);var e=true,c=false,d=0;if(a.ceaseFire.apply(this)===true)e=false;e===true&&b(window).scroll(function(){if(b(document).height()-b(window).height()<=b(window).scrollTop()+a.bottomPixels)if(a.fireOnce==false||a.fireOnce==true&&c!=true){if(a.resetCounter.apply(this)===
true)d=0;c=true;d++;b(a.insertAfter).after('<div id="endless_scroll_loader">'+a.loader+"</div>");data=typeof a.data=="function"?a.data.apply(this):a.data;if(data!==false){b("div#endless_scroll_loader").remove();b(a.insertAfter).after('<div id="endless_scroll_data">'+data+"</div>");b("div#endless_scroll_data").hide().fadeIn();b("div#endless_scroll_data").removeAttr("id");var f=[];f[0]=d;a.callback.apply(this,f);if(a.fireDelay!==false||a.fireDelay!==0){b("body").after('<div id="endless_scroll_marker"></div>');
b("div#endless_scroll_marker").fadeTo(a.fireDelay,1,function(){b(this).remove();c=false})}else c=false}}})}})(jQuery);